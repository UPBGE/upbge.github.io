

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>First Person Shooter &mdash; UPBGE Manual</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme_overrides.css?v=b4c3fc50" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=f4332903"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="2D Side Scroller" href="2d_side_scroller/index.html" />
    <link rel="prev" title="Moving A Cube" href="moving_cube.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            UPBGE Manual
              <img src="../../../_static/upbge_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Manual</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Tutorials</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../getting_started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introducing_logic_bricks/index.html">Introducing Logic Bricks</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Introducing Logic Nodes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="moving_cube.html">Moving A Cube</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">First Person Shooter</a></li>
<li class="toctree-l3"><a class="reference internal" href="2d_side_scroller/index.html">2D Side Scroller</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../introducing_python_scripting/index.html">Introducing Python Scripting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introducing_python_components/index.html">Introducing Python Components</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../editors/index.html">Editors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../logic_bricks/index.html">Logic Bricks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../logic_nodes/index.html">Logic Nodes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_scripting/index.html">Python Scripting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../python_components/index.html">Python Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../physics/index.html">Physics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../datablocks/index.html">Data-Blocks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../deployment/index.html">Deployment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tools/index.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/index.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contribute</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribute</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">UPBGE Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Tutorials</a></li>
          <li class="breadcrumb-item"><a href="index.html">Introducing Logic Nodes</a></li>
      <li class="breadcrumb-item active">First Person Shooter</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/manual/tutorials/introducing_logic_nodes/first_person_shooter.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="first-person-shooter">
<span id="lntut-first-person-camera"></span><h1>First Person Shooter<a class="headerlink" href="#first-person-shooter" title="Link to this heading"></a></h1>
<p>In this tutorial we will:</p>
<ul class="simple">
<li><p>Open .blend file with level assets - barrels and cubes, a brick walls, and a player with camera;</p></li>
<li><p>Use <em>Logic Nodes</em> to add <kbd class="kbd docutils literal notranslate">W</kbd> <kbd class="kbd docutils literal notranslate">S</kbd> <kbd class="kbd docutils literal notranslate">A</kbd> <kbd class="kbd docutils literal notranslate">D</kbd> movement and a jump with some extras;</p></li>
<li><p>Upgrade with <em>Logic Nodes</em> into a FPS game;</p></li>
</ul>
<figure class="align-right" id="id1" style="width: 45%">
<img alt="../../../_images/ln-fps-annotations.png" src="../../../_images/ln-fps-annotations.png" />
<figcaption>
<p><span class="caption-text">Placement options for Annotation tool</span><a class="headerlink" href="#id1" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>We will also learn few handy shortcuts on-the-go. Shall we?</p>
<p>Download/open <a class="reference download internal" download="" href="../../../_downloads/dbdb4ba1ea8c41340870bc2c37c3a5b9/fps_ln_tutorial.blend"><code class="xref download docutils literal notranslate"><span class="pre">level</span> <span class="pre">with</span> <span class="pre">assets</span></code></a> .blend file. Follow the instructions precisely. :)</p>
<ul class="simple" id="fps-annotations">
<li><p><kbd class="kbd docutils literal notranslate">Shift</kbd>-<kbd class="kbd docutils literal notranslate">Space</kbd> &gt; <kbd class="kbd docutils literal notranslate">D</kbd> for on-screen scribble tool, called <em>Annotation</em> in blenderland.</p></li>
</ul>
<p>Annotation tool is useful for quick sketch, storyboard, and transferring ideas to collaborators. Also for annotations. He he he. Try all three <span class="menuselection">Placement</span> options for <em>Annotation</em> tool, rotate 3D viewport in-between, to see different placements of your scribbles. Go to <span class="menuselection">N-panel &gt; View &gt; Annotations</span> and select individual colors to be able to erase them. Or click <span class="menuselection">X</span> to delete all at once quickly.</p>
<p>Ok, enough chit-chat - let’s fight!</p>
<figure class="align-right" id="id2" style="width: 50%">
<img alt="../../../_images/ln-fps-player_hierarchy.png" src="../../../_images/ln-fps-player_hierarchy.png" />
<figcaption>
<p><span class="caption-text">Player as parent of many children</span><a class="headerlink" href="#id2" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>In <a class="reference internal" href="../getting_started/blender_basic.html#gs-outliner-editor"><span class="std std-ref">Outliner Editor</span></a> top &gt; search for <code class="docutils literal notranslate"><span class="pre">Player</span></code>.</p>
<p>Take a look of the <em>level</em> objects, particularly the hierarchy of <em>Player</em> object. Below <em>Player</em> object there is a bunch of other objects, being a <em>children</em> of <em>Player</em>, our main <em>Parent</em> object. Wherever <em>Player</em> goes, all children will follow. Also take a look at <a class="reference internal" href="../getting_started/blender_basic.html#gs-properties-editor"><span class="std std-ref">Properties Editor</span></a> - under <em>Object</em> tab (orange square) there are <em>Relations</em> and <em>Collections</em> sub-panels, and close to the bottom, a <em>Viewport Display</em> sub-panel - under <em>Display As</em> a <span class="menuselection">Wire</span> is selected, and this is why <em>Player</em> looks underfed, sorry, wireframed. Since during the gameplay the <em>Player</em> is actually not visible, this will save some computer power. Not much though. :)</p>
<p>Of our main interest is a <code class="docutils literal notranslate"><span class="pre">Head</span></code> object, which is of type <em>Empty</em> object - those are commonly used as <em>Parent</em> object. In our case, <em>Head</em> is a parent of <code class="docutils literal notranslate"><span class="pre">Camera</span></code> object - this is the “eyes” of our player. No camera - no image on our screen.</p>
<p>Next, under the <em>Camera</em>, there is a <code class="docutils literal notranslate"><span class="pre">Gun</span></code> object, and this one has an <code class="docutils literal notranslate"><span class="pre">Animation</span></code> object with <em>Action</em> assigned to it.</p>
<p>Those are main building blocks of the game development, which we will incorporate into <em>Logic Nodes</em> workflow. Let the party begin!</p>
<p>Delete <code class="docutils literal notranslate"><span class="pre">Text</span></code> object (it was showing &gt; <kbd class="kbd docutils literal notranslate">W</kbd> to exit Annotation tool), we do not need it. Switch to <em>Logic Nodes</em> workspace (top-most header). Arrange the editors as you see fit, the one we will use most is <em>Logic Node Editor</em>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Both game and 3D model development require use of multiple editors at once. This can clutter the screen, particularly small one, quickly. To remedy this, few workflows are at our disposal.</p>
<ol class="arabic">
<li><p>Dedicate each workspace, like default Blender startup file. In this case there are <em>workspaces</em>, which can be switched by clicking top-most header, in our example:</p>
<p><span class="menuselection">Layout | Logic Nodes | Animation | Scripting</span></p>
<p>There is also <span class="menuselection">+</span> tab, if you want to add another workspace. And you can assign hotkeys for switching previous/next workspace: <span class="menuselection">Edit &gt; Preferences &gt; Keymap</span> - search for <code class="docutils literal notranslate"><span class="pre">Screen</span> <span class="pre">&gt;</span> <span class="pre">Cycle</span> <span class="pre">Workspace</span></code>. Assign 2 keyboard keys, one for <em>previous</em> and one for <em>next</em> workspace.</p>
</li>
</ol>
<p>I trust you can figure out how to delete a workspace by yourself.</p>
<ol class="arabic simple" start="2">
<li><p>Use Blender/UPBGE handy shortcut, <kbd class="kbd docutils literal notranslate">Ctrl</kbd>-<kbd class="kbd docutils literal notranslate">Space</kbd>, which will toggle-maximize the editor window under the mouse cursor. This was a preferred workflow of now late Johnny Maccarony, world-known heavy consumer of <em>Logic Node noodles</em>.</p></li>
</ol>
</div>
<p>In <a class="reference internal" href="../../editors/logic_nodes/index.html#logic-node-editor-index"><span class="std std-ref">Logic Node Editor</span></a>, first create new logic tree, click <code class="docutils literal notranslate"><span class="pre">Logic</span> <span class="pre">Node</span> <span class="pre">Editor</span></code>, rename to <code class="docutils literal notranslate"><span class="pre">player</span></code>, and mark <a class="reference internal" href="../../datablocks/index.html#dbl-protected"><span class="std std-ref">Protected</span></a> (Fake User); next add basic movement nodes, same as for <a class="reference internal" href="moving_cube.html#ln-moving-cube"><span class="std std-ref">Moving A Cube</span></a> chapter.</p>
<ul class="simple">
<li><p>Add 5 <a class="reference internal" href="../../logic_nodes/input/keyboard/keyboard_key.html#ln-keyboard-key"><span class="std std-ref">Keyboard Key</span></a> nodes, assign <kbd class="kbd docutils literal notranslate">D</kbd> <kbd class="kbd docutils literal notranslate">A</kbd> <kbd class="kbd docutils literal notranslate">W</kbd> <kbd class="kbd docutils literal notranslate">S</kbd> keys for right/left and forward/backward movement, and <kbd class="kbd docutils literal notranslate">Space</kbd> for jumping.</p></li>
<li><p>Add 2 <a class="reference internal" href="../../logic_nodes/math/math.html#ln-math"><span class="std std-ref">Math</span></a> nodes and connect with above 4 movement nodes.</p></li>
<li><p>Add <a class="reference internal" href="../../logic_nodes/objects/transformation/apply_force.html#ln-apply-force"><span class="std std-ref">Apply Force</span></a> node, connect remaining <span class="ln">Keyboard Key</span> node <code class="docutils literal notranslate"><span class="pre">If</span> <span class="pre">Pressed</span></code> output socket to <code class="docutils literal notranslate"><span class="pre">Condition</span></code> input socket, add <code class="docutils literal notranslate"><span class="pre">Player</span></code> as object, set <code class="docutils literal notranslate"><span class="pre">vector</span> <span class="pre">Z</span></code>  (up/down axis) to <code class="docutils literal notranslate"><span class="pre">200.0</span></code> - this much force will be applied. <code class="docutils literal notranslate"><span class="pre">Local</span></code> ? Judge yourself, or use time-tested very successful procedure - <cite>trial &amp; error</cite>. Lucky you, just 2 options are available.</p></li>
<li><p>Add <a class="reference internal" href="../../logic_nodes/values/vector/combine_xyz.html#ln-combine-xyz"><span class="std std-ref">Combine XYZ</span></a> node, connect above <span class="ln">Math</span> nodes. Leave <cite>Z</cite> at default <cite>0.0</cite> value.</p></li>
<li><p>Add <a class="reference internal" href="../../logic_nodes/math/vector_math.html#ln-vector-math"><span class="std std-ref">Vector Math</span></a> node, set to <code class="docutils literal notranslate"><span class="pre">Normalize</span></code>, connect those 2 cute blue-ish dots.</p></li>
<li><p>Add another <span class="ln">Vector Math</span> node, set <em>Operation</em> to <code class="docutils literal notranslate"><span class="pre">Scale</span></code>. This node will determine speed of the Player. Connect <code class="docutils literal notranslate"><span class="pre">Result</span></code> from above node to <code class="docutils literal notranslate"><span class="pre">Vector</span> <span class="pre">1</span></code> input socket.</p></li>
</ul>
<div class="admonition tip" id="fps-snap-ln">
<p class="admonition-title">Tip</p>
<p>If you want nodes to be aligned, turn on <em>magnet</em> icon in top-right corner of <em>Logic Node Editor</em>, above N-panel. Nodes will now snap to invisible grid. Hotkey is <kbd class="kbd docutils literal notranslate">Shift</kbd>-<kbd class="kbd docutils literal notranslate">Tab</kbd>.</p>
</div>
<figure class="align-center" id="id3">
<a class="reference internal image-reference" href="../../../_images/ln-fps-speed_property-apply_tree.png"><img alt="../../../_images/ln-fps-speed_property-apply_tree.png" src="../../../_images/ln-fps-speed_property-apply_tree.png" style="width: 100%;" />
</a>
<figcaption>
<p><span class="caption-text">Add Game Property and Apply To Selected</span><a class="headerlink" href="#id3" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Before we continue with nodes, we need to add <em>Game Property</em>. With <em>Player</em> selected:</p>
<ul class="simple">
<li><p>In <span class="menuselection">Properties &gt; Game &gt; Game Properties</span>, click <span class="menuselection">Add Game Property</span>, name it <code class="docutils literal notranslate"><span class="pre">speed</span></code>, leave default <code class="docutils literal notranslate"><span class="pre">Float</span></code> type, and set value to <code class="docutils literal notranslate"><span class="pre">1.0</span></code>.</p></li>
</ul>
<p><span class="menuselection">Apply To Selected</span> - this will create <code class="docutils literal notranslate"><span class="pre">NL__player</span></code> game property, <code class="docutils literal notranslate"><span class="pre">player</span></code> object tree, and a <span class="py">nl_player.py</span> script. <em>NL/nl</em> stands for <em>node logic</em>.</p>
<p>Good job. Now we can continue with nodes.</p>
<ul class="simple">
<li><p>Add <a class="reference internal" href="../../logic_nodes/values/properties/get_object_property.html#ln-get-object-property"><span class="std std-ref">Get Object Property</span></a> node; if not already, select <code class="docutils literal notranslate"><span class="pre">Game</span> <span class="pre">Property</span></code> from dropdown, and in <code class="docutils literal notranslate"><span class="pre">Property</span></code> field type <code class="docutils literal notranslate"><span class="pre">speed</span></code> - this is the <em>speed</em> property that we just created above. Connect this node to <code class="docutils literal notranslate"><span class="pre">Scale</span></code> input socket of the last <span class="ln">Vector Math</span> node, and add <code class="docutils literal notranslate"><span class="pre">Player</span></code> as owner object - click <span class="menuselection">Object</span> and select from menu.</p></li>
<li><p>Add <a class="reference internal" href="../../logic_nodes/events/on_update.html#ln-on-update"><span class="std std-ref">On Update</span></a> and a <a class="reference internal" href="../../logic_nodes/objects/transformation/apply_movement.html#ln-apply-movement"><span class="std std-ref">Apply Movement</span></a> node - connect <code class="docutils literal notranslate"><span class="pre">Out</span></code> to <code class="docutils literal notranslate"><span class="pre">Condition</span></code>, and last <span class="ln">Vector Math</span> into <code class="docutils literal notranslate"><span class="pre">Vector</span></code>; also set <code class="docutils literal notranslate"><span class="pre">Player</span></code> as object, and yes, check <code class="docutils literal notranslate"><span class="pre">Local</span></code>.</p></li>
</ul>
<p>This is our node setup so far:</p>
<figure class="align-center" id="id4" style="width: 100%">
<img alt="../../../_images/ln-fps-setup_so_far.png" src="../../../_images/ln-fps-setup_so_far.png" />
<figcaption>
<p><span class="caption-text">Player movement nodes setup so far</span><a class="headerlink" href="#id4" title="Link to this image"></a></p>
</figcaption>
</figure>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Another very useful Blender habit to grow - almost all buttons &amp; commands have option to <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">to</span> <span class="pre">Quick</span> <span class="pre">Favorites</span></code> or <code class="docutils literal notranslate"><span class="pre">Assign</span> <span class="pre">Shortcut</span></code>:</p>
<ul class="simple">
<li><p>Go to <span class="menuselection">Properties &gt; Render &gt; Game Resolution</span>;</p></li>
<li><p>Hover mouse over <span class="menuselection">Embedded Start</span> button, <a class="reference internal" href="../../contribute/about.html#about-mouse"><span class="std std-ref">RMB</span></a> and select <code class="docutils literal notranslate"><span class="pre">Add</span> <span class="pre">to</span> <span class="pre">Quick</span> <span class="pre">Favorites</span></code>.</p></li>
<li><p>Use this tip whenever you find yourself using/repeating same actions over and over. It is a great time saver.</p></li>
</ul>
</div>
<figure class="align-right" id="id5" style="width: 40%">
<span id="fps-quick-favorites"></span><img alt="../../../_images/ln-fps-quick_favorites.png" src="../../../_images/ln-fps-quick_favorites.png" />
<figcaption>
<p><span class="caption-text">Q for Quick Favorites &gt; E for Start</span><a class="headerlink" href="#id5" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>According to the Holy Blender Bible, Embedded Start can be invoked with hotkey <kbd class="kbd docutils literal notranslate">P</kbd>, which seems to be not working in current UPBGE by default. So we added it into Quick Favorites, although we could as easily assign a <cite>P</cite> shortcut. We will now run game and test if node setup is working as expected. With mouse over <a class="reference internal" href="../getting_started/blender_basic.html#gs-3d-viewport"><span class="std std-ref">3D-Viewport</span></a>:</p>
<p><kbd class="kbd docutils literal notranslate">Numpad</kbd> <kbd class="kbd docutils literal notranslate">0</kbd> <kbd class="kbd docutils literal notranslate">&gt;</kbd> <kbd class="kbd docutils literal notranslate">Home</kbd> <kbd class="kbd docutils literal notranslate">&gt;</kbd> <kbd class="kbd docutils literal notranslate">Q</kbd> will move into ‘camera view’ &gt; zoom-in/maximize/center the camera view &gt; open <em>Quick Favorites</em> menu; there, another hotkey is offered for the <em>Embedded Start</em> - this depends on various factors, and is recognizable by any of the letters being underscored - <cite>E</cite> in figure; in your case might be something else. Pressing that key should start the game. <kbd class="kbd docutils literal notranslate">Esc</kbd> to end the game.</p>
<p>While the game is running, press movement keys and observe Player behavior.</p>
<ul class="simple">
<li><p>First of all, it is moving way to fast &gt; reduce the <code class="docutils literal notranslate"><span class="pre">speed</span></code> property; trial &amp; error is the name of the game, until you find comfortable settings. <cite>Hint</cite> - halve the <em>speed</em> value for a start, and do not forget - Player should be selected in order to change its speed property.</p></li>
<li><p>Second of all, keys are wrong &gt; fix them until character moves properly relative to pressed keys &gt; <kbd class="kbd docutils literal notranslate">W</kbd> forward; <kbd class="kbd docutils literal notranslate">S</kbd> backward; <kbd class="kbd docutils literal notranslate">A</kbd> left; <kbd class="kbd docutils literal notranslate">D</kbd> right.</p></li>
</ul>
<figure class="align-right" id="id6" style="width: 40%">
<span id="fps-mouse-moves-head"></span><img alt="../../../_images/ln-fps-mouse_moves_head.png" src="../../../_images/ln-fps-mouse_moves_head.png" />
<figcaption>
<p><span class="caption-text">Mouse Look settings</span><a class="headerlink" href="#id6" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>If you’re done fixing, let’s continue.</p>
<ul class="simple">
<li><p>Add <a class="reference internal" href="../../logic_nodes/input/mouse/mouse_look.html#ln-mouse-look"><span class="std std-ref">Mouse Look</span></a> and connect <code class="docutils literal notranslate"><span class="pre">Out</span></code> from <span class="ln">On Update</span> to <code class="docutils literal notranslate"><span class="pre">Condition</span></code>, set <code class="docutils literal notranslate"><span class="pre">Player</span></code> as <code class="docutils literal notranslate"><span class="pre">Object</span></code> and <code class="docutils literal notranslate"><span class="pre">Head</span></code> as <code class="docutils literal notranslate"><span class="pre">Head</span></code>. Run the game, test, if needed, adjust settings in <span class="ln">Mouse Look</span> node: <code class="docutils literal notranslate"><span class="pre">Cap</span> <span class="pre">Up/Down</span></code> will limit <em>Head</em> movement, <code class="docutils literal notranslate"><span class="pre">Smoothing</span></code> will smooth mouse moves.</p></li>
</ul>
<p id="fps-value-switch">Next we upgrade walking to run:</p>
<ul class="simple">
<li><p>Add/duplicate <span class="ln">Keyboard Key</span> &amp; <span class="ln">Math</span>, add <a class="reference internal" href="../../logic_nodes/values/value_switch.html#ln-value-switch"><span class="std std-ref">Value Switch</span></a>. The logic here is:</p>
<ul>
<li><p>When <kbd class="kbd docutils literal notranslate">Shift</kbd> is pressed, add some <em>float</em> value to <em>speed</em>, and use resulting value for movement;</p></li>
<li><p>If not pressed, use existing <em>speed</em> value.</p></li>
</ul>
</li>
</ul>
<p>Test the game, adjust values as you see fit.</p>
<figure class="align-center" id="id7" style="width: 80%">
<img alt="../../../_images/ln-fps-value_switch.png" src="../../../_images/ln-fps-value_switch.png" />
<figcaption>
<p><span class="caption-text">Value Switch for running</span><a class="headerlink" href="#id7" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Now it is time for some actions - we’ll add gun shooting. Switch to <span class="menuselection">Animation</span> workspace, in the left editor/window &gt; top-right, check <a class="reference internal" href="../getting_started/blender_basic.html#gs-viewport-shading"><span class="std std-ref">Shading</span></a> options - little arrow at far right side will dropdown some setting, which you are free and advised to change.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>With object selected, you can ‘focus’ it with <kbd class="kbd docutils literal notranslate">Numpad</kbd> <kbd class="kbd docutils literal notranslate">,</kbd> (comma); this works in <span class="menuselection">3D Viewport</span>, <span class="menuselection">Outliner</span>, and other editors. Use this if you ‘loose’ the object from sight.</p>
</div>
<figure class="align-right" id="id8" style="width: 50%">
<img alt="../../../_images/ln-fps-action_editor.png" src="../../../_images/ln-fps-action_editor.png" />
<figcaption>
<p><span class="caption-text">Action Editor context with action dots</span><a class="headerlink" href="#id8" title="Link to this image"></a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>Expand/enlarge bottom <span class="menuselection">Dope Sheet Editor</span>, select/expand <code class="docutils literal notranslate"><span class="pre">Gun</span></code> object (Outliner &gt; Search if needed), and you shall see some orange dots in <em>Dope Sheet</em> - this is gun <code class="docutils literal notranslate"><span class="pre">Action</span></code> - when gun is fired, bullet pushes it back and up. Hit <kbd class="kbd docutils literal notranslate">Space</kbd> to toggle animation playing. We need to attach this action to Player and connect it with an input.</p></li>
<li><p>Switch <em>Editing context</em> from <span class="menuselection">Dope Sheet</span> to <span class="menuselection">Action Editor</span> - name of our action is shown in the header &gt; <code class="docutils literal notranslate"><span class="pre">Shot</span></code>.</p></li>
<li><p>Back to <span class="menuselection">Logic Nodes</span> workspace (or modify workspace to include <em>Logic Node Editor</em> window/area). Add <a class="reference internal" href="../../logic_nodes/input/mouse/mouse_button.html#ln-mouse-button"><span class="std std-ref">Mouse Button</span></a>, <a class="reference internal" href="../../logic_nodes/time/pulsify.html#ln-pulsify"><span class="std std-ref">Pulsify</span></a>, <a class="reference internal" href="../../logic_nodes/animation/stop_animation.html#ln-stop-animation"><span class="std std-ref">Stop Animation</span></a> and <a class="reference internal" href="../../logic_nodes/animation/play_animation.html#ln-play-animation"><span class="std std-ref">Play Animation</span></a> nodes, connect them red-to-red dot.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Shot</span></code> action is how long? Set <span class="ln">Play Animation</span> to <code class="docutils literal notranslate"><span class="pre">Object</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Gun</span></code>, and <code class="docutils literal notranslate"><span class="pre">Action</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Shot</span></code>, <code class="docutils literal notranslate"><span class="pre">End</span></code> &gt; last action frame. Test the game, adjust settings.</p></li>
</ul>
<p>Gun is moving when shooting now, but still needs to actually shoot something. And the sound is missing.</p>
<ul class="simple">
<li><p>Add below <a class="reference internal" href="../../logic_nodes/scene/camera/active_camera.html#ln-active-camera"><span class="std std-ref">Active Camera</span></a>, <a class="reference internal" href="../../logic_nodes/objects/get_attribute/get_world_position.html#ln-get-world-position"><span class="std std-ref">Get World Position</span></a>, and <a class="reference internal" href="../../logic_nodes/objects/object_data/get_axis_vector.html#ln-get-axis-vector"><span class="std std-ref">Get Axis Vector</span></a> - connect <code class="docutils literal notranslate"><span class="pre">Camera</span></code> to both <span class="ln">Get World Position</span> &gt; <code class="docutils literal notranslate"><span class="pre">Object</span></code>, and <span class="ln">Get Axis Vector</span> &gt; <code class="docutils literal notranslate"><span class="pre">Object</span></code>, set <code class="docutils literal notranslate"><span class="pre">Axis</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">-Z</span> <span class="pre">Axis</span></code> (object/player forward-facing direction).</p>
<ul>
<li><p><span class="ln">Get Axis Vector</span> will take <span class="ln">Active Camera</span> orientation and feed it to <span class="ln">Raycast</span> for aiming direction.</p></li>
<li><p><span class="ln">Get World Position</span> will take <span class="ln">Active Camera</span> (player body/head) position and feed it to <span class="ln">Raycast</span> as shooting origin point/position.</p></li>
</ul>
</li>
<li><p>Add <a class="reference internal" href="../../logic_nodes/raycasts/raycast.html#ln-raycast"><span class="std std-ref">Raycast</span></a>, connect <span class="ln">Get World Position</span> &gt; <code class="docutils literal notranslate"><span class="pre">Origin</span></code>, <span class="ln">Get Axis Vector</span> &gt; <code class="docutils literal notranslate"><span class="pre">Aim</span></code>, and above <span class="ln">Stop Animation</span> &gt; <code class="docutils literal notranslate"><span class="pre">Condition</span></code>, check <code class="docutils literal notranslate"><span class="pre">Custom</span> <span class="pre">Distance</span></code> and <code class="docutils literal notranslate"><span class="pre">Local</span></code>.</p></li>
<li><p>Add <a class="reference internal" href="../../logic_nodes/objects/transformation/apply_impulse.html#ln-apply-impulse"><span class="std std-ref">Apply Impulse</span></a>, connect <span class="ln">Raycast</span> top two output sockets color-to-color, and <code class="docutils literal notranslate"><span class="pre">Picked</span> <span class="pre">Point</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Vector</span></code>, <code class="docutils literal notranslate"><span class="pre">Ray</span> <span class="pre">Direction</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Direction</span></code>.</p></li>
<li><p>Add <a class="reference internal" href="../../logic_nodes/utility/draw.html#ln-draw"><span class="std std-ref">Draw</span></a> node, set to <code class="docutils literal notranslate"><span class="pre">Cube</span></code>, connect <span class="ln">Apply Impulse</span> &gt; <code class="docutils literal notranslate"><span class="pre">Condition</span></code>, <span class="ln">Raycast</span> <code class="docutils literal notranslate"><span class="pre">Picked</span> <span class="pre">Point</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Origin</span></code>, set <code class="docutils literal notranslate"><span class="pre">Width</span></code> to something small, i.e. <cite>0.02</cite>, and check <code class="docutils literal notranslate"><span class="pre">Use</span> <span class="pre">Volume</span> <span class="pre">Origin</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">Cube</span></code> will act as improvised bullet. In final game this bullet would probably best be hidden.</p></li>
</ul>
</li>
</ul>
<p>Done - test and adjust settings.</p>
<figure class="align-center" id="id9" style="width: 90%">
<img alt="../../../_images/ln-fps-shoot_nodes.png" src="../../../_images/ln-fps-shoot_nodes.png" />
<figcaption>
<p><span class="caption-text">Shot action nodes</span><a class="headerlink" href="#id9" title="Link to this image"></a></p>
</figcaption>
</figure>
<figure class="align-right" id="id10" style="width: 50%">
<img alt="../../../_images/ln-fps-shot_sound.png" src="../../../_images/ln-fps-shot_sound.png" />
<figcaption>
<p><span class="caption-text">Shot audio clip node</span><a class="headerlink" href="#id10" title="Link to this image"></a></p>
</figcaption>
</figure>
<p>Final touch:</p>
<ul class="simple">
<li><p>Search/download ‘machine gun shot single audio’, a short sound clip, save to disk, somewhere close to our working <em>.blend</em> file.</p></li>
<li><p>Next to above <span class="ln">Play Animation</span> add <a class="reference internal" href="../../logic_nodes/sound/start_sound.html#ln-start-sound"><span class="std std-ref">Start Sound</span></a>, set as <code class="docutils literal notranslate"><span class="pre">2D</span> <span class="pre">Sample</span></code>, connect <span class="ln">Play Animation</span> <code class="docutils literal notranslate"><span class="pre">Started</span></code> &gt; <code class="docutils literal notranslate"><span class="pre">Condition</span></code>, <code class="docutils literal notranslate"><span class="pre">Sound</span></code> attribute &gt; <em>folder</em> icon &gt; load shot audio clip, <em>note</em> icon &gt; load from dropdown. Test the game, take a break.</p></li>
</ul>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="moving_cube.html" class="btn btn-neutral float-left" title="Moving A Cube" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="2d_side_scroller/index.html" class="btn btn-neutral float-right" title="2D Side Scroller" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright : This page is licensed under a CC-BY-SA 4.0 Int. License.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>